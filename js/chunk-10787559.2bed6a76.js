(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-10787559"],{"4e22":function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("van-nav-bar",{attrs:{fixed:"",title:"标题","left-text":"返回","left-arrow":""},on:{"click-left":t.leftclick},scopedSlots:t._u([{key:"title",fn:function(){return[s("div",[s("van-search",{attrs:{shape:"round",placeholder:"请输入搜索关键词"},model:{value:t.searchText,callback:function(a){t.searchText=a},expression:"searchText"}})],1)]},proxy:!0},{key:"right",fn:function(){return[s("div",[s("van-button",{attrs:{round:"",type:"danger",size:"small"},on:{click:t.getSearch}},[t._v("搜索")])],1)]},proxy:!0}])}),t.ishow?t._e():s("div",{staticClass:"tips"},[s("div",{staticClass:"zuijin"},[s("span",[t._v("最近搜索")]),s("i",{on:{click:t.clearlist}})]),t._l(t.s_list,(function(a,e){return s("van-tag",{key:e,attrs:{color:"#666",type:"primary"},on:{click:function(s){return t.getmylist(a)}}},[t._v(t._s(a))])})),t._m(0),s("van-tag",{attrs:{type:"primary"}},[t._v("标签1111111")]),s("van-tag",{attrs:{type:"primary"}},[t._v("标签1111111")])],2),t.ishow?s("search-list",{attrs:{keywords:t.searchText,relist:t.mylist},on:{redata:t.getData}}):t._e()],1)},i=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"zuijin"},[s("span",[t._v("热门搜索")]),s("i")])}],n=s("5f16"),o={name:"search",components:{searchList:n["a"]},mounted:function(){localStorage.list||(localStorage.list="[]"),this.s_list=JSON.parse(localStorage.list)},methods:{leftclick:function(){this.$router.go(-1)},getmylist:function(t){this.getlist(1,t),this.ishow=!0},getData:function(t,a){console.log(t,a),this.getlist(t,a)},clearlist:function(){localStorage.list="[]",this.s_list=JSON.parse(localStorage.list)},getlist:function(t,a){var s=this;this.axios.post("https://api.ymduo.com/search/index",this.$qs.stringify({keywords:a,p:1,order:t})).then((function(t){console.log(t),s.mylist=t.data.result.data}))},getSearch:function(){var t=JSON.parse(localStorage.list);t.push(this.searchText),localStorage.list=JSON.stringify(t),this.s_list=JSON.parse(localStorage.list),this.ishow=!0,this.getlist(1,this.searchText)}},data:function(){return{searchText:"",s_list:[],ishow:!1,mylist:[]}}},l=o,r=(s("f61c"),s("2877")),c=Object(r["a"])(l,e,i,!1,null,"2b0a1e01",null);a["default"]=c.exports},"531f":function(t,a,s){"use strict";var e=s("7a40"),i=s.n(e);i.a},"5f16":function(t,a,s){"use strict";var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("van-popup",{style:{width:"70%",height:"100%"},attrs:{position:"right"},model:{value:t.show,callback:function(a){t.show=a},expression:"show"}},[s("van-tag",[t._v("新加坡")]),s("van-tag",[t._v("美国")]),s("van-tag",[t._v("中国")])],1),s("van-dropdown-menu",{staticStyle:{position:"fixed",top:"46px",width:"100%"}},[s("van-dropdown-item",{attrs:{options:t.option1},model:{value:t.value1,callback:function(a){t.value1=a},expression:"value1"}}),s("van-dropdown-item",{attrs:{options:t.option2},on:{change:t.sendData},model:{value:t.value2,callback:function(a){t.value2=a},expression:"value2"}}),s("van-dropdown-item",{attrs:{options:t.option3},model:{value:t.value3,callback:function(a){t.value3=a},expression:"value3"}}),s("van-button",{on:{click:function(a){t.show=!0}}},[t._v("筛选")])],1),t.layoutFlag?s("div",{staticClass:"list"},[s("div",t._l(t.relist,(function(a,e){return s("div",{key:e,staticClass:"list_one"},[s("router-link",{attrs:{to:{name:"info",params:{pid:a.goods_id}}}},[s("img",{attrs:{src:a.image,alt:""}}),s("p",{staticClass:"van-multi-ellipsis--l2"},[t._v(t._s(a.goods_name))]),s("div",{staticClass:"price"},[s("span",[t._v("$"+t._s(a.price))]),s("span",[t._v("看相似")])])])],1)})),0)]):t._e(),t.layoutFlag?t._e():s("div",{staticClass:"list_12"},[s("div",t._l(t.relist,(function(a,e){return s("div",{key:e,staticClass:"list_one"},[s("router-link",{attrs:{to:{name:"info",params:{pid:a.goods_id}}}},[s("img",{attrs:{src:a.image,alt:""}}),s("div",[s("p",{staticClass:"van-multi-ellipsis--l2"},[t._v(t._s(a.goods_name))]),s("div",{staticClass:"price"},[s("span",[t._v("$"+t._s(a.price))]),s("span",[t._v("看相似")])])])])],1)})),0)]),s("div",{staticClass:"changeLayout",on:{click:t.changeLay}})],1)},i=[],n={name:"searchlist",props:["relist","keywords"],mounted:function(){},beforeUpdate:function(){console.log(this.relist)},updated:function(){},methods:{sendData:function(){this.$emit("redata",this.value2,this.keywords)},changeLay:function(){this.layoutFlag=!this.layoutFlag}},data:function(){return{show:!1,layoutFlag:!0,value1:0,value2:1,value3:"a",option1:[{text:"全部商品",value:0},{text:"新款商品",value:1},{text:"活动商品",value:2}],option2:[{text:"价格最高",value:3},{text:"价格最低",value:4},{text:"默认价格",value:1}],option3:[{text:"销量",value:"g"}]}}},o=n,l=(s("531f"),s("2877")),r=Object(l["a"])(o,e,i,!1,null,"7d8a5f9a",null);a["a"]=r.exports},"7a40":function(t,a,s){},bf66:function(t,a,s){},f61c:function(t,a,s){"use strict";var e=s("bf66"),i=s.n(e);i.a}}]);
//# sourceMappingURL=chunk-10787559.2bed6a76.js.map